## 朗格朗日对偶性
 问：如何直观理解拉格朗日乘数法
> 答：从三维的角度来看，对函数$z = f(x, y)$求极值的过程中，往往是在限制条件$g(x,y) = c$下进行的。朗格朗日乘数法的作用是：将**带有条件的极值转化为不带条件的极值**。
它的解具有很好的几何直观性，简单来说极值点存在于$f$的某条等高线$f(x, y)=d$与约束$g(x, y)=c$相切的地方。在切点上， **$f$和$g$的切线是平行的，基于三维的直观理解非常重要，是理解接下来的KKT的关键**（如下图所示 ），即$∇f(x, y)$是$g(x, y)$的常数倍,我们令这个常数为$-λ$。则求极值等价于求解以下方程组  
$$\left\{
    \begin{array}{c} 
        \begin{aligned}
        ∇f(x, y) &= -λ∇g(x, y) \\
        g(x, y) &=c
        \end{aligned}
    \end{array}
\right.$$  
显然，这个方程组等价于求函数  
$$L = f(x, y) + λg(x, y)$$  
的极值，因此求带有约束的函数的极值转化为了求朗格朗日函数的极值。  
![Lagrange](/imgs/lagrange.jpg)  


## 广义拉格朗日乘数表达了什么
假设有优化问题
$$
\begin{aligned} 
\min_{x ∈ R^n} \qquad&f(x) \\ 
s.t. \qquad&c_i(x)\leq 0, \quad i=1,\ldots,k\\ 
\qquad&h_j(x)=0, \quad j=1,\ldots,l 
\end{aligned}
\tag1
$$  
此时定义广义拉格朗日函数为
$$L(x,α,β)=f(x)+\sum_{i=1}^kα_i c_i(x)+\sum_{i=1}^lβ_ih_i(x) \tag2$$
则
$$
\max_{αβ: α_i \geq 0}L(x,α,β)
$$
描述了约束条件（原因网上有大量解释，这里不再重复），所以
$$
\min_{x}θ_p(x) =  \min_{x} \max_{αβ: α_i \geq 0}L(x,α,β)\tag3
$$
和$(1)$等价。**因此广义拉格朗日乘数只是把约束条件和目标函数糅合为一个函数，它本身没有做任何的求解**，或者说广义拉格朗日乘数用另外一种方式描述了$(1)$。这里我们称$(3)$为原问题

## 对偶问题
基于原问题我们定义对偶问题为：
$$
\max_{αβ: α_i \geq 0}\min_{x} L(x,α,β) \tag4
$$
其中内层函数
$$
\min_{x} L(x,α,β)\tag5
$$
称为`Lagrange dual function`，它的重要性质是：**它是原问题的下界**。其证明如下：  
>假设原问题在$x=x^*$ 时取得的最优解为 $*p$，即$f(x^*) = p*$，则有
$$
\begin{aligned}
& \sum_{i=1}^kα_i c_i(x^*)+\sum_{i=1}^lβ_ih_i(x^*) \leq 0 \\
 \Rightarrow &  \sum_{i=1}^kα_i c_i(x^*)+\sum_{i=1}^lβ_ih_i(x^*)  + f(x^*) \leq f(x^*) \\
 \Rightarrow &  L(x^*,α,β) \leq f(x^*) \\
 \Rightarrow &  \min_{x} L(x,α,β) \leq L(x^*,α,β) \leq f(x^*) = p*
\end{aligned}
$$

这样就证明了$(5)$是原问题的下界。**而$(4)$则是最大下界**，设最大下界为$d^*$，则有$d* \leq p^*$。需要注意到**原问题是关于$x$的函数，而对偶问题是关于$α,β$的函数**。

### 对偶问题有什么作用
对偶问题的作用可以归为3点：
* 对偶问题给出了原问题的一个最大下界，通常在某些情况下可以作为原问题的一个近似解。
* 在满足某些条件下，对偶问题和原问题的最优解是相等的，即有$p* = d*$，此时对原问题的求解可以化为对对偶问题的求解。
* 无论原问题是怎样，对偶问题都是凸优化的，它的极值是唯一的（如果存在的话）



## 如何理解KKT条件（未完成）

## 参考文档
[支持向量机系列](http://blog.pluskid.org/?page_id=683)(强烈推荐)