本文将讨论以下内容
* 一些与RSA算法相关的基本数学概念
    * 互质
    * 算术基本定理
    * 欧拉函数
    * 欧拉定理
    * 模反元素
    * 一些后续证明会用到的数学结论    
* 如何生成公钥、私钥
* 公钥秘钥为何难以破解
* 如何利用公钥、私钥进行加密、解密
* 解密过程的数学证明

建议初次阅读不要纠结欧拉公式和欧拉定理的相关证明（具体证明可以在参考资料中找到），要将精力放在公钥秘钥的生成以及如何使用公钥秘钥进行加密解密。（不过我个人最感兴趣的是解密过程的数学证明，因此还是补全了那个证明）

## 一些与RSA算法相关的基本数学概念
### 互质
如果两个整数除了1之外没有其它公约数，则称这两个数互质（比如7、15互质，8、9也是互质，注意一个数即使不是质数，也有可能和另外一个数互质）。
基于互质的性质，我们有以下推论：

* 任意两个质数互质，比如13和61。
* 一个数是质数，另一个数只要不是前者的倍数，则两者互质，比如3和10。
* 如果两个数之中，较大的那个数是质数，则两者互质，比如97和57。
* 1和任意自然数互质，比如1和99。
* p是大于1的整数，则p和p-1互质，比如57和56。
* p是大于1的奇数，则p和p-2互质，比如17和15。

### 算术基本定理
任何一个大于1的自然数 $n$,如果$n$不为质数，那么$n$可以唯一分解成有限个质数的乘积。例如 $n = 15 = 3 * 5$，其中3和5称为**质因数**。

### 欧拉函数
欧拉函数解决了以下问题：
> 给定一个正整数n，求出小于等于n的正整数中，有多少个和n构成互质？例如当n=8时，整数1、3、5、7和8都是互质，因此答案是4。

这个问题的通解是欧拉函数，即

$\begin{equation}
\begin{aligned}
φ(n) & = p^{k1}_1p^{k2}_2...p^{kn}_n (1-\frac{1}{p_1})(1-\frac{1}{p_2})...(1-\frac{1}{p_n}) \\
& = n(1-\frac{1}{p_2})...(1-\frac{1}{p_n})
\end{aligned}
\end{equation}$

其中 $p^{k1}_1p^{k2}_2...p^{kn}_n$是$n$的所有**不同的质因数**。特别地，当$k_n=1$时，欧拉公式可以写成  

$φ(n)  = p_1p_2...p_n (1-\frac{1}{p_1})(1-\frac{1}{p_2})...(1-\frac{1}{p_n})$


由算术基本定理可知$n$可以分解为若干个质因数的乘积，但是欧拉公式**只取不同的质因数**。
例如$8 = 2 * 2 * 2$，虽然8由三个质因数相乘组成，但是不同的质因数只有1个（即$2$），因此$φ(8) = 8*(1-\frac{1}{2})=4$，同理$φ(5) = 5*(1-\frac{1}{5})=4$



### 欧拉定理
若$n,a$为正整数，且$n,a$互质，则等式$a^{φ(n)} \equiv 1 (\mod n)$成立。意思是：如果$a$和$n$互质，则$a$的$φ(n)$次方除以$n$，余数为$1$。欧拉定理是证明RSA解密可行的关键
> 注意：初次阅读不要纠结欧拉函数和欧拉定理的证明，你可以回头再查看相关资料，但目前你只需要记住这个结论。

### 模反元素
如果两个正整数$a$和$n$互质，那么一定可以找到整数$b$，使得 $ab-1$ 被$n$整除，或者说$ab$被$n$除的余数是$1$。，即  
$ab \equiv 1 (\mod n)$
由欧拉定理有$a^{φ(n)} = a a^{φ(n)-1} \equiv 1 (\mod n)$，因此可知$b=a^{φ(n)-1}$

### 一些后续证明会用到的数学结论
* 如果$a \mod b = 1$，则$ka \mod b = k \mod b$   
    这个结论非常容易理解，如果$a$除以$b$余数为$1$，则多个$a$除以$b$的余数会一直累积
* 如果$a \mod b = 1$，则$a^k \mod b = 1$    
    证明：  
    由条件可得$a = bm + 1$ ①  
    要证$a^k \mod b = 1$，即证$a^k = bn + 1$  
    由①式可得$a^n = (bm + 1)^n$，根据二项式定理展开整理最终可得$a^n = bk + 1$，$k=b(c^0_nb^{n-1}m^n + c^1_nb^{n-2}m^{n-1}  ... +  c^{n-1}_nb^{0}m^{1})$



## 如何生成公钥、私钥
## 公钥秘钥为何难以破解
## 如何利用公钥、私钥进行加密、解密
## 解密过程的数学证明

参考资料
